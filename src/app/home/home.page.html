<ion-header>
  <ion-toolbar color="primary">
    <ion-title>
      Budget Planner: A Ionic and Angular CRUD App
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="BudgetPlannerForm" (ngSubmit)="onAdd()">
    <ion-item>
      <p class="ion-margin">
        Expenses:
      </p>
      <ion-input formControlName="title" type="text" value="Food" class="ion-margin" inputmode="text" required="true"></ion-input>
    </ion-item>
    <ion-item>
      <p class="ion-margin">
        Cost:
      </p>
      <ion-input formControlName="value" type="number" value="100" class="ion-margin" inputmode="numeric" required="true"></ion-input>
    </ion-item>
    <ion-item>
        <ion-grid fixed>
          <ion-row>
            <ion-col size="6">
              <ion-button (click)="onClear()" expand="block" color="danger">
                <ion-icon slot="start" name="trash"></ion-icon>
                Clear
              </ion-button>
            </ion-col>
            <ion-col size="6">
              <ion-button type="submit" expand="block" color="primary">
                <ion-icon slot="start" name="add"></ion-icon>
                Add Expenses
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
    </ion-item>
  </form>

  <ion-card>
    <ion-card-header color="primary">
      <ion-card-title>Total Expenses</ion-card-title>
      <ion-card-subtitle>${{ totalExpenses }}</ion-card-subtitle>
    </ion-card-header>
  </ion-card>

  <ion-card>
    <ion-card-header color="primary">
      <b>Expenses</b>
    </ion-card-header>
    <ion-list>
      <ion-item *ngFor="let item of expenses; let x = index;">
        <ion-grid>
          <ion-row>
            <ion-col size="8">
              {{ item.title }}
            </ion-col>
            <ion-col size="2" class="ion-text-center">
              ${{ item.value }}
            </ion-col>
            <ion-col size="2" class="ion-text-center">
              <ion-button (click)="onDelete(x)">
                <ion-icon slot="icon-only" name="trash"></ion-icon>
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
    </ion-list>
  </ion-card>
</ion-content>